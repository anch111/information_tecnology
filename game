import random
from random import randint

class Character:
    def __init__(self, name=str, hp=int, attack=int, crit_attack = int):
        self.crit_attack = crit_attack
        self.attack = attack
        self.hp = hp
        self.name = name

    def fight(self, other):
        while other.hp > 0 and self.hp > 0:
            print(f'{self.name} –∞—Ç–∞—Ç–∫—É–µ—Ç {other.name}. –ë—Ä–æ—Å—Ç–µ –∫–æ—Å—Ç–∏.')
            input('Ô∏èüé≤')
            hod = randint(1, 6)
            print(f'–í—ã–ø–∞–≤—à–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: {hod}.')

            if hod > 4:
                print(f'{self.name} –Ω–∞–Ω–æ—Å–∏—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É–¥–∞—Ä.')
                other.hp -= self.crit_attack
            else:
                print(f'{self.name} –Ω–∞–Ω–æ—Å–∏—Ç —É–¥–∞—Ä.')
                other.hp -= self.attack

            if other.hp <= 0:
                print(f'{other.name} –ø–æ—Ä–∞–∂–µ–Ω.')
                break
            else:
                print('–ë–∏—Ç–≤–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è...')
                input('üõ°Ô∏èüó°Ô∏è')
            if self.hp <= 0:
                print(f'{self.name} –ø–æ—Ä–∞–∂–µ–Ω.')
                break

            Knight.check_hp(player)
            print(f'{self.name}. –û—Å—Ç–∞–ª–æ—Å—å {self.hp} –µ–¥–∏–Ω–∏—Ü –∑–¥–æ—Ä–æ–≤—å—è.')
            print(f'{other.name}. –û—Å—Ç–∞–ª–æ—Å—å {other.hp} –µ–¥–∏–Ω–∏—Ü –∑–¥–æ—Ä–æ–≤—å—è.')

            Character.fight(other, self)


class Knight(Character):
    def __init__(self, name, hp, attack, crit_attack):
        super().__init__(name, hp, attack, crit_attack)
        self.inventiry = 'food'

    def attack_up(self):
        self.attack += 50

    def food(self):
        self.hp = 600

    def inventory_check(self):
        if self.inventiry == 'food':
            self.food()
            queat = input('—Å–æ–∂—Ä–∞—Ç—å?')
            if queat.lower() == '–¥–∞':
                print('–¥–∞, –æ–Ω —Å–æ–∂—Ä–∞–ª —è–±–ª–æ–∫–æ')
                self.inventiry = ''
        else:
            print("–æ –Ω–µ—Ç —è –±–ª–æ–∫–æ —Å–æ–∂—Ä–∞–ª –∫—Ç–æ—Ç–æ –¥—Ä—É–≥–≥–æ–π")

    def check_hp(self):
        if self.hp <= 300:
            print('–∫–∞–∂–µ—Ç—Å—è —á–µ—Ç–æ –∑–∞–≤–∞–ª—è–ª–æ—Å—å...—ç')
            Knight.inventory_check(self)

class Dragon(Character):
    def __init__(self, name, hp, attack, crit_attack):
        super().__init__(name, hp, attack, crit_attack)

    def attack_down(self):
        self.attack -= 25

    def crit_attack_down(self):
        self.attack -= 50



# player = Knight('–∏–≥–æ—Ä—å', 600, 100, 300)
# dragon = Dragon('–¥—Ä–∞–∫–æ–æ–Ω', 1000, 75, 450)
# Character.fight(player, dragon)

# print('–∏–≥–æ—Ä—å –∑–∞–Ω—é—Ö–∏–≤–∞–µ—Ç –≤–æ–ª—à–µ–±–Ω—ã–π –ø–æ—Ä–æ—à–æ–∫')
# Knight.attack_up(player)
# Character.fight(player, dragon)
# input()


